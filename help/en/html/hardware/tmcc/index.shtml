<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Apple macOS version 5.8.0">
  <title>JMRI Hardware Support - Lionel TMCC</title><!--#include virtual="/help/en/parts/Style.shtml" -->
</head>
<body>
  <!--#include virtual="/help/en/parts/Header.shtml" -->

  <div id="mBody">
    <!--#include virtual="../SidebarUp.shtml" -->

    <div id="mainContent">
      <h1>Hardware Support: Lionel TMCC</h1>

      <h2 id="hardware">Supported Hardware</h2>

      <h3>Command Station</h3>

      <p>Lionel TMCC 1 or TMCC 2 Legacy thru the serial port on the Command Base 1, Command Base 1L, or Command Base 992.
	  Via WiFi to Command Base 992 and Command Base 3. Note: Connecting to the Command Base 1L will require an LCS SER2 serial converter.
      Connecting to the Command Base 992 may require the Y-cable included with the Lionel Legacy Command Set. </p>

      <h2 id="limitations">Limitations</h2>

      <p>As of JMRI v 5.13.5, Lionel TMCC Train(TR) commands and some Legacy Engine(ENG) extended commands are still under development.</p>

      <h2 id="connecting">Connecting</h2>

      <h3>DB9 Serial Cable</h3>

      <p>First, connect your computer's serial port to the TMCC command station using a DB9 serial
      cable. This should be a "straight-through" or "modem" cable, <em>not</em> a "crossover" or
      "null-modem" cable. if your computer doesn't have a built-in serial port, you can use a
      USB-serial adapter, but make sure you install the correct drivers if needed. Recent Mac OS
      distributions and Windows versions have the drivers already there for some adaptors.</p>
	  
	  <h3>Setting Up JMRI</h3>

      <p>Next, configure the JMRI program for TMCC:</p>

      <ul>
        <li>Start your JMRI-based program (DecoderPro, PanelPro, etc).</li>

        <li>Go to the Connections tab of the Preferences pane. This opens automatically the first
        time a program is run, or you can select it from the "Edit" menu.</li>

        <li>Click the + tab and Select "TMCC (Lionel)" as the System Manufacturer.</li>

        <li>Under Connections, choose from Serial and Simulator.<br>
        Enter a Prefix and Connection Name to identify this connection.</li>

        <li>When using Serial, pick the name of the serial port that you have connected to the TMCC
        system.<br>
        If the baud rate doesn't show a fixed value, set it to 9,600 baud.</li>

        <li>Click "Save". You'll be asked if it's OK for the program to quit, click "Yes".</li>

        <li>Restart the program. You should be up and running.</li>
      </ul>
	  
	  <h3>WiFi</h3>

      <p>Follow the instructions in the Lionel Legacy Control System or Command Base 3 Manual.</p>

	  <br>
	  <h2>Programming Mode</h2>

      <p>To Program ID#s/Addresses for Engines(ENG), Switches(SW) or Accessories(ACC):</p>

      <ul>
        <li>Follow the target device instructions to set it into "Program" mode.</li>

        <li>Start DecoderPro.</li>

        <li>Go to Actions/Single CV Programmer (*Actions is a tab at the top).</li>

        <li>Under Programming Track, select the device to be programmed.</li>

        <li>Set CV = 1.</li>

        <li>Enter the desired ID#/Address into Value.</li>

        <li>Select Write CV.</li>

        <li>Follow the device instructions to set it into "Run" mode.</li>
      </ul>

      <p>To Program Engine(ENG) Feature Type:</p>

      <ul>
        <li>Follow the target device instructions to set it into "Program" mode.</li>

        <li>Go to Actions/Single CV Programmer in DecoderPro (*Actions is a tab at the top).</li>

        <li>Under Program on Main, select the device to be programmed.</li>

        <li>Under Program on Main, enter the target Engine ID#/Address.</li>

        <li>At the top, Set CV = 2.</li>

        <li>At the top, Enter the desired Feature Type# into Value.</li>

        <li>Select Write CV.</li>

        <li>Follow the device instructions to set it into "Run" mode.</li>
      </ul>

	  <br>
	  <h2>Engine(ENG) Operation</h2>

      <p>The functions below will take care of most Engine Controls on TMCC 1 and TMCC 2 Legacy equiped locomotives, and up to Railsounds 4
      including aftermarket units such as ERR, K-Line and TAS.</p>

      <h3>TMCC 1 and TMCC 2 Legacy (ENG) Sliding Speed Control</h3>

	  <p>When using a JMRI Throttle to run a Locomotive, there is a drop-down menu at the top of the Sliding Speed Control (Control Panel) for
      selecting the proper speed step mode for operation. The choices are:</p>

      <ul>
        <li>32 Speed Steps (TMCC 1).</li>

        <li>32 Speed Steps (TMCC 2 Legacy).</li>

        <li>100 Speed Steps (TMCC 1 ERR).</li>

        <li>200 Speed Steps (TMCC 2 Legacy).</li>
      </ul>

	  <p>The arrow keys on the keyboard may also be used to adjust locomotive speed (left arrow - speed increase; right arrow - speed decrease).
      WARNING Note: Use the arrow keys for slight adjustments only. Holding down the arrow keys queues individual speed commands faster than they
      can be sent to the locomotive, and it can take some time for these "sent" commands to finish processing before the locomotive will respond to
      other commands (including IMMEDIATE STOP).</p>

      <h3>TMCC 1 and TMCC 2 Legacy (ENG) Standard Function Buttons</h3>
	  
	  <p>When using a JMRI Throttle to run a Locomotive, the function buttons are allocated as
      follows:</p>
	  
      <style>
	  dl {
	  display: grid;
	  grid-gap: 4px 16px;
	  grid-template-columns: max-content;
	  margin-left: 25px; /* Shift the entire grid 25px to the right */
	  }
	  
	  dt {
	  font-weight: bold; /* Optional styling */
	  }
	  
	  dd {
	  margin: 0; /* Remove default margin */
	  grid-column-start: 2; /* Position the dd in the second column */
	  }
	  </style>	  
	  
        <dl>
	  
        <dt>F0 </dt><dd>Headlights On / Off (Equivalent to Aux2 Option 2 Operation)</dd>

        <dt>F1 </dt><dd>Bell</dd>

        <dt>F2 </dt><dd>Whistle 1 (Steam) / Horn 1 (Diesel)</dd>

        <dt>F3 </dt><dd>Open Front Coupler</dd>

        <dt>F4 </dt><dd>Open Rear Coupler</dd>

        <dt></dt><dd></dd>

        </dl>

        <dl>
		
	<dt>--------------------------------------------------------------------------</dt>
		
	<dt>Numeric Keypad (Active in ENG mode after pressing Aux1 when using Lionel remote.)</dt>

        </dl>
		
	<dt></dt><dd></dd>

        <dl>

        <dt>F5</dt><dd>Num 0; Preface needed for sending specified commands (TBD)</dd>

        <dt>F6</dt><dd>Num 1; Volume Up</dd>

        <dt>F7</dt><dd>Num 2; Crew Talk</dd>

        <dt>F8</dt><dd>Num 3; Activate Sound Card and Play Start up Sounds</dd>

        <dt>F9</dt><dd>Num 4; Volume Down</dd>

        <dt>F10</dt><dd>Num 5; Deactivate Sound Card after Playing Shut Down Sounds</dd>

        <dt>F11</dt><dd>Num 6; Steam Release (Steam) / Air Horn and RPM Decrease (Diesel)</dd>

        <dt>F12</dt><dd>Num 7; Tower Comm</dd>

        <dt>F13</dt><dd>Num 8; Smoke and Firebox OFF on Steam / Auxilliary Lighting OFF on Diesel</dd>

        <dt>F14</dt><dd>Num 9; Smoke and Firebox ON on Steam) / Auxilliary Lighting ON on Diesel</dd>

        </dl>

        <dl>
		
	<dt>--------------------------------------------------------------------------</dt>

        </dl>
		
	<dt></dt><dd></dd>
		
	<dt></dt><dd></dd>

        <dl>

        <dt>F15</dt><dd>Aux 1 (Does not toggle buttons on remote in JMRI. This is a stand-alone code sent to the Engine.)</dd>

        <dt>F16</dt><dd>Let Off Sound</dd>

        <dt>F17</dt><dd>Forward</dd>

        <dt>F18</dt><dd>Reverse</dd>

        <dt>F19</dt><dd>Toggle Direction</dd>

        <dt>F20</dt><dd>Boost</dd>

        <dt>F21</dt><dd>Brake</dd>

        <dt>F22</dt><dd>Increse Speed (Relative) 2 Steps</dd>

        <dt>F23</dt><dd>Decrease Speed (Relative) -3 Steps</dd>

        <dt>F24</dt><dd>Momentum Low</dd>

        <dt>F25</dt><dd>Momentum Medium</dd>

        <dt>F26</dt><dd>Momentum High</dd>

        <dt>F27</dt><dd>Set</dd>

        </dl>
	  
      <p>Any Accessory/Other component that uses the TMCC Engine(ENG) ID#/Address should also work with the above function buttons; however,
      the function buttons above may not allign with the expected functions of the target device. Consult the manual that came with the Accessory
      ( Crane Car, etc. ) to determine what the Aux1 buttons do for that item and label the JMRI function buttons accordingly.</p>

	  <h3>TMCC 2 Legacy Extended Functions</h3>

      <p>Extended TMCC 2 Legacy Functions are under development.
	  If you have suggestions for usage of additional function keys,
      please make a suggestion via the
      <a href="https://groups.io/g/jmriusers">JMRIusers list.</a></p>.
	  
	  <br>

	  <h2>Switch(SW) and Accessory(ACC) Operation</h2>

      <p>TMCC Switch(SW) and Accessory(ACC) functions are handeld through the JMRI Turnout tool. Follow the instructions below for
      setting up TMCC Switch(SW) and Accessory(ACC) elements in JMRI. Note: Before using the JRMI Turnout tool, be sure to program
      TMCC Switch(SW) and Accessory(ACC) ID#s/Addresses found in the Programming Mode section above.</p>

      <h3>TMCC Switch(SW)</h3>
	  
      <ul>
        <li>Start DecoderPro.</li>

        <li>Go to Actions/Turnout Control (*Actions is a tab at the top).</li>

        <li>Enter the target Switch(SW) ID#/Address (TMCC Switch(SW) ID#s should be between 0-99).</li>

        <li>Select Thrown to set the switch to Out.</li>

        <li>Select Closed to set the switch to Through.</li>
        
        <li>If actual switch position does not match the selected Thrown/Closed position above, consider that your switch may be wired in 
        reverse polarity.</li>
      </ul>

      <h3>TMCC Accessory(ACC)</h3>
	  
      <ul>
        <li>Start DecoderPro.</li>

        <li>Go to Actions/Turnout Control (*Actions is a tab at the top).</li>

        <li>Enter the target Accessory(ACC) ID#/Address (TMCC Accessory(ACC) ID#s should be between 0-9). Note: For operating TMCC Accessories(ACC)
        with JMRI Turnout Control, translate Accessory(ACC) ID#s into 100-109 for Aux1 connected accessories and into 110-119 for Aux2 connected
        accessories.</li>

        <li>Select Thrown to turn ON the Accessory(ACC).</li>

        <li>Select Closed to turn OFF the Accessory(ACC).</li>
        
        <li>If actual accessory On/Off behavior does not match the selected Thrown/Closed position above, consider that your accessory may be wired
        in reverse polarity.</li>
      </ul>

      <p>Learn more about using JMRI Turnouts here:
      <a href="https://www.jmri.org/help/en/html/tools/Turnouts.shtml">JMRI: Turnouts Documentation.</a></p>.

	  <br>

	  <h2>Route(RTE) and Group(GR) Operation</h2>

      <p>In TMCC terminology, Route(RTE) is for triggering multiple switches with one command and Group(GR) is for triggering multiple accessories
      with one command. In JMRI, both TMCC Route(RTE) and Group(GR) functions are handeld through the JMRI Route tool. Follow the instructions
      below to set up TMCC Route(RTE) and Group(GR) elements.</p>

      <h3>TMCC Switch(SW)</h3>
	  
      <ul>
        <li>Start PanelPro.</li>

        <li>Go to Tools/Tables/Turnouts (*Tools is a tab at the top).</li>

        <li>Add each TMCC Switch and Accessory to this table (*The Add button is at the bottom toward the left).</li>

        <li>While in the Table tool, select Route (from the list on the left).</li>

        <li>Build the Route by selecting a combination of switches (TMCC Route(RTE)) or accessories (TMCC Group(GR)), or both (see JMRI LRoutes).</li>
        
        <li>Note: When you are adding switches/accessories you must use Set State to set them as Set Thrown, Set Closed or Set Toggle. BE SURE
        to use Set TOGGLE if you want the Set button (see below) to trigger both states of your selected devices.</li>
      </ul>

        <li>Select the Set button of the target Route to trigger all devices set up in that Route.</li>

      <p>Learn more about using JMRI Routes here:
      <a href="https://www.jmri.org/help/en/html/tools/Routes.shtml">JMRI: Routes Documentation.</a>.

      <p>For more fun, explore JMRI LRoutes here:
      <a href="https://www.jmri.org/help/en/html/tools/LRoutes.shtml">JMRI: LRoute Documentation.</a></p>.


      <!--#include virtual="/help/en/parts/Footer.shtml" -->
    </div>
    <!-- closes #mainContent-->
  </div>
  <!-- closes #mBody-->
  <script src="/js/help.js"></script>
</body>
</html>
